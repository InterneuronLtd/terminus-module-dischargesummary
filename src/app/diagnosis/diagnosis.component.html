<!--BEGIN LICENSE BLOCK--> 
<!--Interneuron Terminus

Copyright(C) 2025  Interneuron Limited

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.If not, see<http://www.gnu.org/licenses/>. -->
<!--END LICENSE BLOCK--> 
<div>
    <div class="row">
        <div class="col-md-8">
            <h5>Problem (Diagnosis) List</h5>
        </div>
        <div class="col-md-4" style="text-align: right;">
            <!-- <a href="#" class="btn btn-white" data-bs-toggle="modal" data-bs-target="#importEPMAModal"><img src="/Images/Import.png" height="30px;" alt="Import from discharge summary">  </a>
            <a href="#" class="btn btn-white" data-bs-toggle="modal" data-bs-target="#printMedicationListModal"><img src="/Images/PrintIcon.png" height="30px;" alt="Print">  </a> -->
        </div>
    </div>
    <p-table #dt1 [value]="diagnosisList" styleClass="p-datatable-gridlines p-datatable-sm" responsiveLayout="scroll">
                
      <ng-template pTemplate="header">
          <tr>
            <th style="width: 10%;vertical-align: top;">Code</th>    
            <th style="vertical-align: top;">Name</th>    
            <th style="width: 12%;vertical-align: top;">Onset Date</th>    
            <th style="vertical-align: top;">Clinical Status</th>
            <th style="width: 18%;vertical-align: top;">Verification Status</th>    
            <th style="width: 12%;vertical-align: top;">Resolved Date</th>    
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-diagnosis_list>
          <tr>
            <td style="width: 10%;word-wrap: break-word;">{{diagnosis_list.code}}</td>    
            <td>{{diagnosis_list.name}}</td>    
            <td style="width: 12%;">{{diagnosis_list.onsetdate | date :'dd/MM/yyyy'}}</td>    
            <td>{{diagnosis_list.clinicalstatus}}</td>    
            <td style="width: 18%;">{{diagnosis_list.verificationstatus}}</td>    
            <td style="width: 12%;">{{diagnosis_list.resolveddate | date :'dd/MM/yyyy'}}</td>       
          </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
            <td colspan="6">No data available.</td>
        </tr>
      </ng-template>
    </p-table>

    <br />
    <div class="alert alert-light border"  style="font-size:0.8em;">
        <strong><i class="fa fa-check-circle"></i> Data source : Clinical Portal | Handover Module</strong>
        <br />
        This data is from the Handover Module. To make changes please click the 'Open Handover Module' button below, make the changes and then come back.
        <br />
        <button class="btn btn-secondary btn-sm edit-clinical-summary" data-bs-toggle="modal" data-bs-target="#clinicalSummaryModal" (click)="resolveModule('clinicalsummary')" [disabled]="isPatientDischarged"><i class="fa fa-pencil"></i> Open Handover Module</button>
    </div>
  </div>
  