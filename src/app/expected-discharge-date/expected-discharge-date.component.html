<!--BEGIN LICENSE BLOCK--> 
<!--Interneuron Terminus

Copyright(C) 2025  Interneuron Limited

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.If not, see<http://www.gnu.org/licenses/>. -->
<!--END LICENSE BLOCK--> 
<div *ngIf="expectedDischargeDateData" [ngClass]="showErrorMessage ? 'alert alert-light border border-danger rounded' : ''">
    <div class="row">
        <div class="col-md-8">
            <h5><span class="text-danger">*</span><span [ngClass]="showErrorMessage ? 'text-danger' : ''">Expected Date of Discharge</span></h5>
        </div>
        <div class="col-md-4" style="text-align: right;">
            <img *ngIf="!isDisabled" src="assets/images/dischargesummary/editIcon.svg" height="30px" style="float:right;margin-right:8px;margin-bottom: 5px"
            (click)="openEditExpectedDischargeDateDialog()">
            <!-- <a href="#" class="btn btn-white" data-bs-toggle="modal" data-bs-target="#importModal"><img src="/Images/Import.png" height="30px;" alt="Import from discharge summary">  </a>
                <a href="#" class="btn btn-white" data-bs-toggle="modal" data-bs-target="#historyModal"><img src="/Images/History.png" height="30px;" alt="View field history">  </a> -->

        </div>
    </div>
    <input style="display: none;" *ngIf="expectedDischargeDateData && !isDisabled" class="form-control" type="text" placeholder="dd/mm/yyyy" bsDatepicker id="expecteddateofdischarge" name="expecteddateofdischarge" aria-describedby="expecteddateofdischarge" (bsValueChange)="getExpectedDischargeDate($event)" [disabled]="isPatientDischarged"
    [minDate]="maxDateValue" [(bsValue)]="expecteddateofdischarge"  [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', containerClass: 'theme-default', adaptivePosition: true, showWeekNumbers:false }" #datePicker (keydown)="getDischargeSummaryData(true, $event)">

     <div *ngIf="!isDisabled" class="border rounded" style="padding:8px; height:42px; word-wrap: break-word;" [innerHTML]="eddstring?eddstring:'dd/mm/yyyy'" (click)="openEditExpectedDischargeDateDialog()"></div>

     <div *ngIf="isDisabled" class="border rounded" style="padding:8px; height:42px; word-wrap: break-word;" [innerHTML]="eddstring?eddstring:'dd/mm/yyyy'"></div>

     <div class=""  style="font-size:0.8em; margin-top:5px; margin-left: 5px;">
      <strong><i class="fa fa-info-circle"></i> This date will be used as the Date of Discharge in the discharge letter if the discharge letter is printed before the patient has been discharged in PAS</strong>
      <!-- <br />
      <button class="btn btn-secondary btn-sm edit-vte" data-bs-toggle="modal" data-bs-target="#vteModal"><i class="fa-solid fa-pencil"></i> Open Assessments Module</button> -->
    </div>
     <div [hidden]="!showErrorMessage" class="text-danger">
        <i>Expected discharge date is required</i>
    </div>


</div>




